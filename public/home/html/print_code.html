<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>箱码打印</title>
    <link rel="stylesheet" href="/home/css/home_page.css">
    <link rel="stylesheet" href="/home/vendor/bootstrap/css/bootstrap.css">
    <link rel="stylesheet" href="/home/vendor/bootstrap-datepicker/css/bootstrap-datepicker.css">
    <link rel="stylesheet" href="/home/vendor/sweetalert2/sweetalert2.css">
    <link rel="stylesheet" href="/home/vendor/layer/skin/layer.css">
</head>
<body>
<div class="code_info f12">
    <div class="col-sm-8">
        <span>共计扫码 <b class="total_piece">0</b> 件</span>
    </div>
    <div class="col-sm-4" id="print-code">
        <button class="preservation entry" onclick="printCode()">打印</button>
    </div>
</div>
<div id="print-container"></div>
</body>
<script src="/home/vendor/jquery/jquery.min.js"></script>
<script src="/home/script/jquery-migrate-1.0.0.js"></script>
<script src="/home/script/jquery.jqprint-0.3.js"></script>
<script>
    var localStorage = window.localStorage;
    var codeHtml = localStorage.getItem('PRINT-CODE');
    $("#print-container").html(codeHtml);
    // 扫码条数
    $('.total_piece').text($('#print-container .code_list>li').length);
    //
    $('#print-container .code_list').css('max-height','none');

    /**
     * 打印条码
     */
    function printCode(){
        $("#print-container-ul").jqprint({
            debug: false, //如果是true则可以显示iframe查看效果（iframe默认高和宽都很小，可以再源码中调大），默认是false
            importCSS: true, //true表示引进原来的页面的css，默认是true。（如果是true，先会找$("link[media=print]")，若没有会去找$("link")中的css文件）
            printContainer: true, //表示如果原来选择的对象必须被纳入打印（注意：设置为false可能会打破你的CSS规则）。
            operaSupport: true//表示如果插件也必须支持歌opera浏览器，在这种情况下，它提供了建立一个临时的打印选项卡。默认是true
        });
    }
</script>
</html>